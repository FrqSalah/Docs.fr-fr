---
title: Module ASP.NET Core
author: tdykstra
description: "Introduit le Module de base ASP.NET (ANCM), un module d’IIS qui permet au serveur web Kestrel utiliser IIS ou IIS Express comme serveur proxy inverse."
keywords: ASP.NET Core, IIS, IIS Express, Module ASP.NET Core UseIISIntegration
ms.author: tdykstra
manager: wpickett
ms.date: 08/03/2017
ms.topic: article
ms.assetid: 4661af33-34c5-4d71-93a0-8c7632f43580
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/servers/aspnet-core-module
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 50c3085c28be4e6ddc4a732aba489ce871ab9ab1
ms.sourcegitcommit: 9cdbfd0d670d70b9c354216aabee260c52dad5ee
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/12/2017
---
# <a name="introduction-to-aspnet-core-module"></a><span data-ttu-id="e2ad0-104">Introduction au Module ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="e2ad0-104">Introduction to ASP.NET Core Module</span></span>

<span data-ttu-id="e2ad0-105">Par [Tom Dykstra](https://github.com/tdykstra), [Rick Strahl](https://github.com/RickStrahl), et [Chris Ross](https://github.com/Tratcher)</span><span class="sxs-lookup"><span data-stu-id="e2ad0-105">By [Tom Dykstra](https://github.com/tdykstra), [Rick Strahl](https://github.com/RickStrahl), and [Chris Ross](https://github.com/Tratcher)</span></span> 

<span data-ttu-id="e2ad0-106">Module de base ASP.NET (ANCM) vous permet d’exécuter des applications derrière IIS, ASP.NET Core à l’aide d’IIS pour qu’il est bon pour (sécurité, la facilité de gestion et beaucoup plus) et à l’aide de [Kestrel](kestrel.md) pour qu’il est bon pour (qui est très rapide) et l’obtention de la avantages de ces deux technologies en même temps.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-106">ASP.NET Core Module (ANCM) lets you run ASP.NET Core applications behind IIS, using IIS for what it's good at (security, manageability, and lots more) and using [Kestrel](kestrel.md) for what it's good at (being really fast), and getting the benefits from both technologies at once.</span></span> <span data-ttu-id="e2ad0-107">**ANCM fonctionne uniquement avec Kestrel ; Il n’est pas compatible avec WebListener (dans ASP.NET Core 1.x) ou HTTP.sys (dans 2.x).**</span><span class="sxs-lookup"><span data-stu-id="e2ad0-107">**ANCM works only with Kestrel; it isn't compatible with WebListener (in ASP.NET Core 1.x) or HTTP.sys (in 2.x).**</span></span> 

<span data-ttu-id="e2ad0-108">Versions de Windows prises en charge :</span><span class="sxs-lookup"><span data-stu-id="e2ad0-108">Supported Windows versions:</span></span>

* <span data-ttu-id="e2ad0-109">Windows 7 et Windows Server 2008 R2 et versions ultérieures</span><span class="sxs-lookup"><span data-stu-id="e2ad0-109">Windows 7 and Windows Server 2008 R2 and later</span></span>

[<span data-ttu-id="e2ad0-110">Afficher ou télécharger l’exemple de code</span><span class="sxs-lookup"><span data-stu-id="e2ad0-110">View or download sample code</span></span>](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/servers/aspnet-core-module/sample)

## <a name="what-aspnet-core-module-does"></a><span data-ttu-id="e2ad0-111">Ce que fait le Module de base ASP.NET</span><span class="sxs-lookup"><span data-stu-id="e2ad0-111">What ASP.NET Core Module does</span></span>

<span data-ttu-id="e2ad0-112">ANCM est un module IIS natif qui intercepte dans le pipeline d’IIS et redirige le trafic vers le serveur principal application ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-112">ANCM is a native IIS module that hooks into the IIS pipeline and redirects traffic to the backend ASP.NET Core application.</span></span> <span data-ttu-id="e2ad0-113">La plupart des autres modules, telles que l’authentification windows, obtenir une chance de s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-113">Most other modules, such as windows authentication, still get a chance to run.</span></span> <span data-ttu-id="e2ad0-114">ANCM prend uniquement le contrôle lorsqu’un gestionnaire est sélectionné pour la demande et de mappage de gestionnaire est défini dans l’application *web.config* fichier.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-114">ANCM only takes control when a handler is selected for the request, and handler mapping is defined in the application *web.config* file.</span></span>

<span data-ttu-id="e2ad0-115">Étant donné que les applications ASP.NET Core s’exécutées dans un processus distincts du processus de travail IIS, ANCM traite également gestion.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-115">Because ASP.NET Core applications run in a process separate from the IIS worker process, ANCM also does process management.</span></span> <span data-ttu-id="e2ad0-116">ANCM démarre le processus de l’application ASP.NET Core lors de la première demande arrive et qu’il redémarre lorsque qu’elle s’arrête.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-116">ANCM starts the process for the ASP.NET Core application when the first request comes in and restarts it when it crashes.</span></span> <span data-ttu-id="e2ad0-117">Il s’agit essentiellement le même comportement que les applications ASP.NET classiques qui s’exécutent in-process dans IIS et sont gérés par le service WAS (Windows Activation Service).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-117">This is essentially the same behavior as classic ASP.NET applications that run in-process in IIS and are managed by WAS (Windows Activation Service).</span></span>

<span data-ttu-id="e2ad0-118">Voici un diagramme qui illustre les relations entre les applications IIS et ASP.NET Core ANCM.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-118">Here's a diagram that illustrates the relationship between IIS, ANCM, and ASP.NET Core applications.</span></span>

![Module ASP.NET Core](aspnet-core-module/_static/ancm.png)

<span data-ttu-id="e2ad0-120">Les demandes provenant du Web et appuyez sur le pilote de Http.Sys en mode noyau qui achemine les dans IIS sur le port principal (80) ou le port SSL (443).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-120">Requests come in from the Web and hit the kernel mode Http.Sys driver which routes them into IIS on the primary port (80) or SSL port (443).</span></span> <span data-ttu-id="e2ad0-121">ANCM transfère les demandes à l’application ASP.NET Core sur le port HTTP configuré pour l’application, qui est le port 80/443.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-121">ANCM forwards the requests to the ASP.NET Core application on the HTTP port configured for the application, which is not port 80/443.</span></span>

<span data-ttu-id="e2ad0-122">Kestrel écoute le trafic en provenance de ANCM.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-122">Kestrel listens for traffic coming from ANCM.</span></span>  <span data-ttu-id="e2ad0-123">ANCM Spécifie le port via une variable d’environnement au démarrage et la [UseIISIntegration](#call-useiisintegration) méthode configure le serveur pour écouter sur `http://localhost:{port}`.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-123">ANCM specifies the port via environment variable at startup, and the [UseIISIntegration](#call-useiisintegration) method configures the server to listen on `http://localhost:{port}`.</span></span> <span data-ttu-id="e2ad0-124">Il existe des vérifications supplémentaires pour rejeter les demandes non à partir de ANCM.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-124">There are additional checks to reject requests not from ANCM.</span></span> <span data-ttu-id="e2ad0-125">(ANCM ne prend pas en charge HTTPS de transfert, même si IIS reçoit via le protocole HTTPS, les demandes sont transférées via HTTP.)</span><span class="sxs-lookup"><span data-stu-id="e2ad0-125">(ANCM does not support HTTPS forwarding, so requests are forwarded over HTTP even if received by IIS over HTTPS.)</span></span>

<span data-ttu-id="e2ad0-126">Kestrel récupère les demandes dans ANCM et les transmet au pipeline d’intergiciel (middleware) ASP.NET Core, qui les traite, puis les transfère en tant que `HttpContext` instances à la logique d’application.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-126">Kestrel picks up requests from ANCM and pushes them into the ASP.NET Core middleware pipeline, which then handles them and passes them on as `HttpContext` instances to application logic.</span></span> <span data-ttu-id="e2ad0-127">Réponses de l’application sont ensuite passées à IIS, qui pousse les arrière au client qui a lancé les demandes HTTP.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-127">The application's responses are then passed back to IIS, which pushes them back out to the HTTP client that initiated the requests.</span></span>

<span data-ttu-id="e2ad0-128">ANCM a d’autres fonctions :</span><span class="sxs-lookup"><span data-stu-id="e2ad0-128">ANCM has a few other functions as well:</span></span>

* <span data-ttu-id="e2ad0-129">Définit les variables d’environnement.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-129">Sets environment variables.</span></span>
* <span data-ttu-id="e2ad0-130">Journaux `stdout` au stockage de fichiers de sortie.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-130">Logs `stdout` output to file storage.</span></span>
* <span data-ttu-id="e2ad0-131">Transfère les jetons d’authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-131">Forwards Windows authentication tokens.</span></span>

## <a name="how-to-use-ancm-in-aspnet-core-apps"></a><span data-ttu-id="e2ad0-132">Comment utiliser ANCM dans les applications ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="e2ad0-132">How to use ANCM in ASP.NET Core apps</span></span>

<span data-ttu-id="e2ad0-133">Cette section fournit une vue d’ensemble du processus de configuration d’un serveur IIS et d’application ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-133">This section provides an overview of the process for setting up an IIS server and ASP.NET Core application.</span></span> <span data-ttu-id="e2ad0-134">Pour obtenir des instructions détaillées, consultez [publication sur IIS](../../publishing/iis.md).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-134">For detailed instructions, see [Publishing to IIS](../../publishing/iis.md).</span></span>

### <a name="install-ancm"></a><span data-ttu-id="e2ad0-135">Installer ANCM</span><span class="sxs-lookup"><span data-stu-id="e2ad0-135">Install ANCM</span></span>

<span data-ttu-id="e2ad0-136">Le Module de base ASP.NET doit être installé dans IIS sur vos serveurs et dans IIS Express sur vos ordinateurs de développement.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-136">The ASP.NET Core Module has to be installed in IIS on your servers and in IIS Express on your development machines.</span></span> <span data-ttu-id="e2ad0-137">Pour les serveurs, ANCM est inclus dans le [.NET Core Windows serveur qui héberge le groupe](https://aka.ms/dotnetcore.2.0.0-windowshosting).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-137">For servers, ANCM is included in the [.NET Core Windows Server Hosting bundle](https://aka.ms/dotnetcore.2.0.0-windowshosting).</span></span> <span data-ttu-id="e2ad0-138">Pour les ordinateurs de développement, Visual Studio installe automatiquement ANCM dans IIS Express et IIS s’il est déjà installé sur l’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-138">For development machines, Visual Studio automatically installs ANCM in IIS Express, and in IIS if it is already installed on the machine.</span></span>

### <a name="install-the-iisintegration-nuget-package"></a><span data-ttu-id="e2ad0-139">Installez le package NuGet de IISIntegration</span><span class="sxs-lookup"><span data-stu-id="e2ad0-139">Install the IISIntegration NuGet package</span></span>

# <a name="aspnet-core-2xtabaspnetcore2x"></a>[<span data-ttu-id="e2ad0-140">ASP.NET Core 2.x</span><span class="sxs-lookup"><span data-stu-id="e2ad0-140">ASP.NET Core 2.x</span></span>](#tab/aspnetcore2x)

<span data-ttu-id="e2ad0-141">Le [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/) package est inclus dans les metapackages ASP.NET Core ([Microsoft.AspNetCore](https://www.nuget.org/packages/Microsoft.AspNetCore/) et [Microsoft.AspNetCore.All](xref:fundamentals/metapackage) ).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-141">The [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/) package is included in the ASP.NET Core metapackages ([Microsoft.AspNetCore](https://www.nuget.org/packages/Microsoft.AspNetCore/) and [Microsoft.AspNetCore.All](xref:fundamentals/metapackage)).</span></span> <span data-ttu-id="e2ad0-142">Si vous n’utilisez pas un de le metapackages, installez `Microsoft.AspNetCore.Server.IISIntegration` séparément.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-142">If you don't use one of the metapackages, install `Microsoft.AspNetCore.Server.IISIntegration` separately.</span></span> <span data-ttu-id="e2ad0-143">Le `IISIntegration` package est un Pack d’interopérabilité qui lit les variables d’environnement ANCM pour configurer votre application de diffusion.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-143">The `IISIntegration` package is an interoperability pack that reads environment variables broadcast by ANCM to set up your app.</span></span> <span data-ttu-id="e2ad0-144">Les variables d’environnement fournissent des informations de configuration, tels que le port d’écoute.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-144">The environment variables provide configuration information, such as the port to listen on.</span></span> 

# <a name="aspnet-core-1xtabaspnetcore1x"></a>[<span data-ttu-id="e2ad0-145">ASP.NET Core 1.x</span><span class="sxs-lookup"><span data-stu-id="e2ad0-145">ASP.NET Core 1.x</span></span>](#tab/aspnetcore1x)

<span data-ttu-id="e2ad0-146">Dans votre application, vous devez installer [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-146">In your application, install [Microsoft.AspNetCore.Server.IISIntegration](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IISIntegration/).</span></span> <span data-ttu-id="e2ad0-147">Le `IISIntegration` package est un Pack d’interopérabilité qui lit les variables d’environnement ANCM pour configurer votre application de diffusion.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-147">The `IISIntegration` package  is an interoperability pack that reads environment variables broadcast by ANCM to set up your app.</span></span> <span data-ttu-id="e2ad0-148">Les variables d’environnement fournissent des informations de configuration, tels que le port d’écoute.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-148">The environment variables provide configuration information, such as the port to listen on.</span></span> 

---

### <a name="call-useiisintegration"></a><span data-ttu-id="e2ad0-149">Appel UseIISIntegration</span><span class="sxs-lookup"><span data-stu-id="e2ad0-149">Call UseIISIntegration</span></span>

# <a name="aspnet-core-2xtabaspnetcore2x"></a>[<span data-ttu-id="e2ad0-150">ASP.NET Core 2.x</span><span class="sxs-lookup"><span data-stu-id="e2ad0-150">ASP.NET Core 2.x</span></span>](#tab/aspnetcore2x)

<span data-ttu-id="e2ad0-151">Le `UseIISIntegration` méthode d’extension sur [ `WebHostBuilder` ](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.hosting.webhostbuilder) est appelé automatiquement lorsque vous exécutez avec IIS.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-151">The `UseIISIntegration` extension method on [`WebHostBuilder`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.hosting.webhostbuilder) is called automatically when you run with IIS.</span></span>

<span data-ttu-id="e2ad0-152">Si vous n’utilisez pas un de le metapackages ASP.NET Core et que vous n’avez pas installé le `Microsoft.AspNetCore.Server.IISIntegration` package, vous obtenez une erreur d’exécution.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-152">If you aren't using one of the ASP.NET Core metapackages and haven't installed the  `Microsoft.AspNetCore.Server.IISIntegration` package, you get a runtime error.</span></span> <span data-ttu-id="e2ad0-153">Si vous appelez `UseIISIntegration` explicitement, vous obtenez une erreur de compilation si le package n’est pas installé.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-153">If you call `UseIISIntegration` explicitly, you get a compile time error if the package isn't installed.</span></span>

# <a name="aspnet-core-1xtabaspnetcore1x"></a>[<span data-ttu-id="e2ad0-154">ASP.NET Core 1.x</span><span class="sxs-lookup"><span data-stu-id="e2ad0-154">ASP.NET Core 1.x</span></span>](#tab/aspnetcore1x)

<span data-ttu-id="e2ad0-155">Dans votre application `Main` méthode, appelez le `UseIISIntegration` méthode d’extension sur [ `WebHostBuilder` ](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.hosting.webhostbuilder).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-155">In your application's `Main` method, call the `UseIISIntegration` extension method on [`WebHostBuilder`](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.hosting.webhostbuilder).</span></span> 

[!code-csharp[](aspnet-core-module/sample/Program.cs?name=snippet_Main&highlight=12)]

---

<span data-ttu-id="e2ad0-156">Le `UseIISIntegration` méthode recherche de variables d’environnement qui définit des ANCM et non-ops si elles sont introuvables.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-156">The `UseIISIntegration` method looks for environment variables that ANCM sets, and it no-ops if they aren't found.</span></span> <span data-ttu-id="e2ad0-157">Ce comportement facilite les scénarios de développement et de test sur macOS ou Linux et de déploiement sur un serveur qui exécute IIS.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-157">This behavior facilitates scenarios like developing and testing on macOS or Linux and deploying to a server that runs IIS.</span></span> <span data-ttu-id="e2ad0-158">Lors de l’exécution sur macOS ou Linux, Kestrel joue le rôle serveur web ; mais lorsque l’application est déployée sur l’environnement d’IIS, il utilise automatiquement ANCM et IIS.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-158">While running on macOS or Linux, Kestrel acts as the web server; but when the app is deployed to the IIS environment, it automatically uses ANCM and IIS.</span></span>

### <a name="ancm-port-binding-overrides-other-port-bindings"></a><span data-ttu-id="e2ad0-159">Liaison de port ANCM remplace d’autres liaisons de port</span><span class="sxs-lookup"><span data-stu-id="e2ad0-159">ANCM port binding overrides other port bindings</span></span>

# <a name="aspnet-core-2xtabaspnetcore2x"></a>[<span data-ttu-id="e2ad0-160">ASP.NET Core 2.x</span><span class="sxs-lookup"><span data-stu-id="e2ad0-160">ASP.NET Core 2.x</span></span>](#tab/aspnetcore2x)

<span data-ttu-id="e2ad0-161">ANCM génère un port dynamique pour affecter au processus principal.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-161">ANCM generates a dynamic port to assign to the back-end process.</span></span> <span data-ttu-id="e2ad0-162">Le `UseIISIntegration` méthode récupère ce port dynamique et le configure Kestrel pour écouter sur `http://locahost:{dynamicPort}/`.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-162">The `UseIISIntegration` method picks up this dynamic port and configures Kestrel to listen on `http://locahost:{dynamicPort}/`.</span></span> <span data-ttu-id="e2ad0-163">Il substitue à d’autres configurations d’URL, tels que les appels à `UseUrls` ou [API d’écoute de Kestrel](xref:fundamentals/servers/kestrel?tabs=aspnetcore2x#endpoint-configuration).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-163">This overrides other URL configurations, such as calls to `UseUrls` or [Kestrel's Listen API](xref:fundamentals/servers/kestrel?tabs=aspnetcore2x#endpoint-configuration).</span></span> <span data-ttu-id="e2ad0-164">Par conséquent, vous n’avez pas besoin d’appeler `UseUrls` ou de Kestrel `Listen` API lorsque vous utilisez ANCM.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-164">Therefore, you don't need to call `UseUrls` or Kestrel's `Listen` API when you use ANCM.</span></span> <span data-ttu-id="e2ad0-165">Si vous n’appelez pas `UseUrls` ou `Listen`, Kestrel est à l’écoute sur le port que vous spécifiez lorsque vous exécutez l’application sans IIS.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-165">If you do call `UseUrls` or `Listen`, Kestrel listens on the port you specify when you run the app without IIS.</span></span>

# <a name="aspnet-core-1xtabaspnetcore1x"></a>[<span data-ttu-id="e2ad0-166">ASP.NET Core 1.x</span><span class="sxs-lookup"><span data-stu-id="e2ad0-166">ASP.NET Core 1.x</span></span>](#tab/aspnetcore1x)

<span data-ttu-id="e2ad0-167">ANCM génère un port dynamique pour affecter au processus principal.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-167">ANCM generates a dynamic port to assign to the back-end process.</span></span> <span data-ttu-id="e2ad0-168">Le `UseIISIntegration` méthode récupère ce port dynamique et le configure Kestrel pour écouter sur `http://locahost:{dynamicPort}/`.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-168">The `UseIISIntegration` method picks up this dynamic port and configures Kestrel to listen on `http://locahost:{dynamicPort}/`.</span></span> <span data-ttu-id="e2ad0-169">Il substitue à d’autres configurations d’URL, tels que les appels à `UseUrls`.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-169">This overrides other URL configurations, such as calls to `UseUrls`.</span></span> <span data-ttu-id="e2ad0-170">Par conséquent, vous n’avez pas besoin d’appeler `UseUrls` lorsque vous utilisez ANCM.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-170">Therefore, you don't need to call `UseUrls` when you use ANCM.</span></span> <span data-ttu-id="e2ad0-171">Si vous n’appelez pas `UseUrls`, Kestrel est à l’écoute sur le port que vous spécifiez lorsque vous exécutez l’application sans IIS.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-171">If you do call `UseUrls`, Kestrel listens on the port you specify when you run the app without IIS.</span></span>

<span data-ttu-id="e2ad0-172">Dans ASP.NET Core 1.0, si vous appelez `UseUrls`, appelez-le **avant** vous appelez `UseIISIntegration` afin que le port configuré ANCM n’est pas remplacé.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-172">In ASP.NET Core 1.0, if you call `UseUrls`, call it **before** you call `UseIISIntegration` so that the ANCM-configured port doesn't get overwritten.</span></span> <span data-ttu-id="e2ad0-173">Cet ordre d’appel n’est pas requis dans ASP.NET version 1.1 de noyaux, car le paramètre ANCM remplace `UseUrls`.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-173">This calling order isn't required in ASP.NET Core 1.1, because the ANCM setting overrides `UseUrls`.</span></span>

---

### <a name="configure-ancm-options-in-webconfig"></a><span data-ttu-id="e2ad0-174">Configurer les options de ANCM dans le fichier Web.config</span><span class="sxs-lookup"><span data-stu-id="e2ad0-174">Configure ANCM options in Web.config</span></span>

<span data-ttu-id="e2ad0-175">Configuration pour le Module de base ASP.NET est stockée dans le *Web.config* fichier qui se trouve dans le dossier racine de l’application.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-175">Configuration for the ASP.NET Core Module is stored in the *Web.config* file that is located in the application's root folder.</span></span> <span data-ttu-id="e2ad0-176">Point de paramètres de ce fichier à la commande de démarrage et les arguments que vous démarrez votre application ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-176">Settings in this file point to the startup command and arguments that start your ASP.NET Core app.</span></span> <span data-ttu-id="e2ad0-177">Pour l’exemple de code Web.config et des conseils sur les options de configuration, consultez [référence de Configuration du Module ASP.NET Core](../../hosting/aspnet-core-module.md).</span><span class="sxs-lookup"><span data-stu-id="e2ad0-177">For sample Web.config code and guidance on configuration options, see [ASP.NET Core Module Configuration Reference](../../hosting/aspnet-core-module.md).</span></span>

### <a name="run-with-iis-express-in-development"></a><span data-ttu-id="e2ad0-178">Exécuter avec IIS Express dans le développement</span><span class="sxs-lookup"><span data-stu-id="e2ad0-178">Run with IIS Express in development</span></span>

<span data-ttu-id="e2ad0-179">IIS Express peut être lancé par Visual Studio en utilisant le profil par défaut défini par les modèles ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="e2ad0-179">IIS Express can be launched by Visual Studio using the default profile defined by the ASP.NET Core templates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e2ad0-180">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="e2ad0-180">Next steps</span></span>

<span data-ttu-id="e2ad0-181">Pour plus d'informations, reportez-vous aux ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="e2ad0-181">For more information, see the following resources:</span></span>

* [<span data-ttu-id="e2ad0-182">Exemple d’application pour cet article</span><span class="sxs-lookup"><span data-stu-id="e2ad0-182">Sample app for this article</span></span>](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/servers/aspnet-core-module/sample)
* [<span data-ttu-id="e2ad0-183">Code source de Module de base ASP.NET</span><span class="sxs-lookup"><span data-stu-id="e2ad0-183">ASP.NET Core Module source code</span></span>](https://github.com/aspnet/AspNetCoreModule)
* [<span data-ttu-id="e2ad0-184">Informations de référence sur la configuration du module ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="e2ad0-184">ASP.NET Core Module Configuration Reference</span></span>](../../hosting/aspnet-core-module.md)
* [<span data-ttu-id="e2ad0-185">Publication dans IIS</span><span class="sxs-lookup"><span data-stu-id="e2ad0-185">Publishing to IIS</span></span>](../../publishing/iis.md)
